(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[12],{5964:function(e,t,l){Promise.resolve().then(l.bind(l,667))},667:function(e,t,l){"use strict";l.r(t);var s,a,n=l(6560),o=l(7351),r=l(6098),c=l(3043);l(1959);var i=l(2118),u=l(5242),d=l(3232),m=l(5765);(s=a||(a={}))[s.Text=1]="Text",s[s.Textarea=2]="Textarea",s[s.Checkbox=3]="Checkbox",s[s.Radio=4]="Radio",s[s.Select=5]="Select",t.default=e=>{let{}=e,t=(0,r.useSearchParams)(),{openLoginbox:l}=(0,m.R)(),s=t.get("id");console.log("test",s);let a=(0,i.Os)(),[h,x]=(0,o.useState)("New Survey"),[f,g]=u.ZP.useMessage(),[p,b]=(0,o.useState)(!1),[v,N]=(0,o.useState)(!0),[y,j]=(0,o.useState)([{title:"Question 1",name:"question1",type:1,placeholder:"Question 1"}]),S=async()=>{try{var e;let t=await fetch("".concat("http://localhost:3000/api/v1","/form/").concat(s)),l=null===(e=t.body)||void 0===e?void 0:e.getReader(),a=[],n=!1;for(;!n;){let{value:e,done:t}=await (null==l?void 0:l.read());e&&a.push(e),n=t}let o=new Uint8Array(a.reduce((e,t)=>e+t.length,0)),r=0;for(let e of a)o.set(e,r),r+=e.length;let c=new TextDecoder().decode(o);console.log("Text:",c,JSON.parse(c));let i=JSON.parse(c);if(200===i.code){let e=JSON.parse(i.data);console.log("===",e),k(e)}else f.open({type:"error",content:"Get Survey Failed"})}catch(e){f.open({type:"error",content:"Get Survey Failed"})}finally{N(!1)}},[w,k]=(0,o.useState)(null),[_,O]=(0,o.useState)({});(0,o.useEffect)(()=>{S()},[]);let T=async e=>{if(e.preventDefault(),!a.connected){l();return}console.log("====",_)},C=(e,t)=>{O(l=>({...l,[e]:t}))};return(0,n.jsxs)(n.Fragment,{children:[g,(0,n.jsx)("main",{children:(0,n.jsxs)("div",{className:"z-0",style:{backgroundImage:"url(/form_bg.png)",backgroundSize:"cover",minHeight:"100vh",backgroundRepeat:"no-repeat",backgroundPosition:"center"},children:[v&&(0,n.jsx)(d.Z,{spinning:v,fullscreen:!0}),(0,n.jsxs)("div",{className:"min-h-screen",children:[(0,n.jsx)("div",{className:"absolute left-8",children:(0,n.jsx)("img",{src:"/logo2.png",className:"h-32 mt-4 ml-8",alt:"logo"})}),(0,n.jsx)("div",{className:"absolute right-8 mt-8",children:(0,n.jsx)(c.Z,{})}),(null==w?void 0:w.itemList.length)>0&&(0,n.jsx)("div",{className:"flex flex-col items-center pt-12",children:(0,n.jsxs)("form",{onSubmit:T,className:"w-full max-w-md flex flex-col items-center",children:[(0,n.jsx)("h1",{className:"text-4xl font-semibold mb-6 border-none text-center w-full text-[#63948c]",children:null==w?void 0:w.title}),null==w?void 0:w.itemList.map((e,t)=>(0,n.jsxs)("div",{className:"relative mb-4 w-full group",children:[(0,n.jsxs)("label",{htmlFor:e.name,className:"block font-medium mb-2 text-[#63948c]",children:["Q",t+1,": ",e.title]}),(0,n.jsx)("input",{type:"text",id:e.name,name:e.name,value:_[e.name]||"",onChange:t=>C(e.name,t.target.value),className:"text-lg w-full p-2 border border-gray-100 focus:outline-none focus:border-[#63948c] focus:shadow-sm focus:shadow-gray-300",placeholder:e.placeholder||""})]},t)),(0,n.jsx)("div",{className:"flex justify-between mt-6",children:(0,n.jsx)("button",{type:"submit",className:"text-base px-16 py-2 bg-[#5b91a5] text-white rounded-full transition duration-200",children:"Submit"})})]})})]})]})})]})}}},function(e){e.O(0,[299,686,715,802,579,678,448,610,744],function(){return e(e.s=5964)}),_N_E=e.O()}]);